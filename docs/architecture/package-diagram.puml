@startuml
title Package Diagram - E-Commerce Platform

skinparam packageStyle rectangle
skinparam componentStyle rectangle

package "Frontend Layer" {
  [Django Templates]
  [HTMX Components]
  [Static Assets]
}

package "Django Application" {
  package "apps.accounts" {
    [User Model]
    [Auth Views]
    [User API]
  }
  
  package "apps.catalog" {
    [Product Model]
    [Category Model]
    [Catalog Views]
    [Product API]
  }
  
  package "apps.orders" {
    [Order Model]
    [OrderItem Model]
    [Cart Logic]
    [Order API]
  }
  
  package "apps.payments" {
    [Payment Model]
    [Stripe Integration]
    [Payment API]
  }
  
  package "apps.core" {
    [Core Services]
    [Background Tasks]
  }
  
  package "ecommerce_platform" {
    [Settings]
    [URL Routing]
    [WSGI/ASGI]
  }
}

package "Data Layer" {
  database "PostgreSQL" {
    [User Table]
    [Product Table]
    [Order Table]
    [Payment Table]
  }
  
  node "Redis" {
    [Cache]
    [Task Queue]
  }
}

package "External Services" {
  [Stripe API]
  [Email Service]
}

[Django Templates] --> [Auth Views]
[Django Templates] --> [Catalog Views]
[HTMX Components] --> [Product API]
[HTMX Components] --> [Order API]

[Auth Views] --> [User Model]
[Catalog Views] --> [Product Model]
[Cart Logic] --> [Order Model]
[Stripe Integration] --> [Payment Model]

[User Model] --> [User Table]
[Product Model] --> [Product Table]
[Order Model] --> [Order Table]
[Payment Model] --> [Payment Table]

[Stripe Integration] --> [Stripe API]
[Core Services] --> [Cache]
[Background Tasks] --> [Task Queue]

@enduml

